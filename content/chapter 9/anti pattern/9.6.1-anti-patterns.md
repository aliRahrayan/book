---
title: '9.6.1 ضد الگو سینتکسی'
slug: go-anti-patterns-in-syntax
weight: 179001
---



ضد الگوهای سینتکسی (Syntactic Anti-Patterns) به اشتباهات یا رویکردهای نادرست در استفاده از قواعد نگارش (Syntax) در برنامه‌نویسی اشاره دارند. این ضد الگوها، اگرچه ممکن است در اجرا یا عملکرد اصلی برنامه اختلالی ایجاد نکنند، اما منجر به کاهش خوانایی، پیچیدگی کد و افزایش احتمال بروز خطا می‌شوند. این نوع اشتباهات می‌توانند به سختی درک کد برای سایر برنامه‌نویسان، مشکلات نگهداری و حتی ایجاد باگ‌های پیش‌بینی‌نشده منجر شوند.

در ادامه به برخی از رایج‌ترین ضد الگوهای سینتکسی اشاره می‌شود:


۱.کدنویسی ثابت(Hardcoding)

استفاده مستقیم از مقادیر ثابت در کد به جای استفاده از متغیرها یا ثوابت، یکی از ضد الگوهای رایج است.

مثال:
package main

import "fmt"

func main() {
    age := 30
    if age > 18 {
        fmt.Println("You are an adult.")
    }
}
مشکل: اگر مقدار 18 در چندین جای کد استفاده شده باشد، تغییر آن دشوار می‌شود.

راه‌حل:

package main

import "fmt"

const AgeLimit = 18

func main() {
    age := 30
    if age > AgeLimit {
        fmt.Println("You are an adult.")
    }
}

۲ .تو در تویی عمیق ( Deep Nesting)
تو در تویی عمیق در ساختارهای کنترلی مانند if و for می‌تواند منجر به کدی شود که خواندن و نگهداری آن بسیار دشوار است.

package main

import "fmt"

func main() {
    x := 5
    if x > 0 {
        if x < 10 {
            if x%2 == 0 {
                fmt.Println("x is an even number less than 10")
            }
        }
    }
}
راه‌حل: کاهش سطح تو در تویی با استفاده از ساختارهای کنترلی ساده‌تر:

package main

import "fmt"

func main() {
    x := 5
    if x <= 0 || x >= 10 || x%2 != 0 {
        return
    }
    fmt.Println("x is an even number less than 10")
}

۳ .ستفاده بیش از حد از توضیحات ( Overuse of Comments)
اضافه کردن توضیحات بیش از حد به کد می‌تواند منجر به پیچیدگی و شلوغی شود و همچنین احتمال بروز خطا در بروزرسانی توضیحات و کد همزمان وجود دارد.
package main

import "fmt"

// This is the main function
// It prints the number 42 to the console
func main() {
    // Declaring a variable 'number' and assigning the value 42 to it
    number := 42
    // Printing the value of 'number' to the console
    fmt.Println(number)
}

راه‌حل: تمرکز بر نوشتن کد واضح به جای اضافه کردن توضیحات بیش از حد:

package main

import "fmt"

func main() {
    number := 42
    fmt.Println(number)
}

۴ .رشته‌های جادویی (Magic Strings)
استفاده از رشته‌های ثابت درون کد بدون اینکه در یک متغیر یا ثابت ذخیره شوند، می‌تواند منجر به بروز خطا و کاهش خوانایی کد شود.
مثال:


package main

import "fmt"

func main() {
    role := "admin"
    if role == "admin" {
        fmt.Println("Welcome, Admin!")
    }
}

راه‌حل:


package main

import "fmt"

const RoleAdmin = "admin"

func main() {
    role := RoleAdmin
    if role == RoleAdmin {
        fmt.Println("Welcome, Admin!")
    }
}


۵ .متد طولانی ( Long Method)
نوشتن توابع بسیار طولانی که چندین وظیفه مختلف را انجام می‌دهند، ضد الگوی دیگری است.
مثال:
package main

import "fmt"

func processOrder(orderID int) {
    fmt.Println("Validating order", orderID)
    fmt.Println("Calculating total price")
    fmt.Println("Sending confirmation email")
}

راه‌حل: تفکیک وظایف به توابع کوچکتر و قابل مدیریت:



package main

import "fmt"

func validateOrder(orderID int) {
    fmt.Println("Validating order", orderID)
}

func calculateTotalPrice() {
    fmt.Println("Calculating total price")
}

func sendConfirmationEmail() {
    fmt.Println("Sending confirmation email")
}

func processOrder(orderID int) {
    validateOrder(orderID)
    calculateTotalPrice()
    sendConfirmationEmail()
}


۶ .تورفتگی نادرست (Improper Indentation)
عدم استفاده از تورفتگی مناسب و منظم می‌تواند باعث کاهش خوانایی کد شود. در Golang استفاده از تورفتگی مناسب با تب (tab) به طور استاندارد تعریف شده است.


مثال نادرست:


package main
import "fmt"
func main(){
    x:= 5
 if x> 0 {
    fmt.Println("x is positive")
 }
}

مثال صحیح:


package main

import "fmt"

func main() {
    x := 5
    if x > 0 {
        fmt.Println("x is positive")
    }
}

۷ .کد مبهم (Obfuscated Code)
نوشتن کدهای بسیار پیچیده و مبهم می‌تواند درک کد را برای دیگر توسعه‌دهندگان دشوار کند.


مثال:


package main

import "fmt"

func main() {
    z := 5
    if z > 0 {
        fmt.Println("Pos")
    }
}
راه‌حل: استفاده از نام‌های متغیرها و توابع مناسب و توضیح‌دهنده:


package main

import "fmt"

func main() {
    number := 5
    if number > 0 {
        fmt.Println("Number is positive")
    }
}


۸ .بازگشت‌های چندگانه (Multiple Returns)
وجود چندین return در یک تابع می‌تواند منجر به پیچیدگی و کاهش خوانایی شود.

مثال:


package main

import "fmt"

func checkNumber(n int) string {
    if n < 0 {
        return "Negative"
    }
    if n == 0 {
        return "Zero"
    }
    return "Positive"
}

راه‌حل: استفاده از ساختارهای کنترلی مناسب برای کاهش نقاط بازگشت:


package main

import "fmt"

func checkNumber(n int) string {
    result := "Positive"
    if n < 0 {
        result = "Negative"
    } else if n == 0 {
        result = "Zero"
    }
    return result
}

با اجتناب از این ضد الگوهای سینتکسی در Golang و تمرکز بر نوشتن کدهای واضح، خوانا و قابل نگهداری، می‌توانید کدی بنویسید که نه تنها کارآمد باشد، بلکه برای سایر توسعه‌دهندگان نیز به راحتی قابل درک و استفاده باشد.
